<div class="parent">
  <div class="list">
    <app-list-album></app-list-album>
  </div>

  <div class="card">
    <mat-card-header>
      <h3 style="font-weight: 500; font-size: 25px">Crear un album</h3>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="albumForm" >
        <mat-form-field appearance="fill">
          <mat-label>Nombre:</mat-label>
          <input matInput formControlName="name" />
          <div class="alert alert-danger mt-2">
            @if(albumForm.get('name')?.invalid && albumForm.get('name')?.touched
            ){ Ese nombre no es valido }
          </div>
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Fecha de lanzamiento</mat-label>
          <input
            matInput
            [matDatepicker]="picker"
            formControlName="releaseDate"
            [max]="today"
            required
          />
          <mat-datepicker-toggle
            matSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <div class="alert alert-danger mt-2">
            @if(albumForm.get('releaseDate')?.invalid &&
            albumForm.get('releaseDate')?.touched){ Esa fecha no es valida }
          </div>
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Descripción</mat-label>
          <textarea
            matInput
            formControlName="description"
            rows="3"
            required
          ></textarea>
          <div class="alert alert-danger mt-2">
            @if(albumForm.get('description')?.invalid &&
            albumForm.get('description')?.touched){ Este campo es obligatorio }
          </div>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Género</mat-label>
          <mat-select formControlName="genre" required>
            @for(option of genres; track option ){
            <mat-option [value]="option.value" >{{ option.label }}</mat-option>
            }
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Disquera</mat-label>
          <mat-select formControlName="recordLabel" required>
            @for(option of labels ; track option){
            <mat-option [value]="option">{{ option  }}</mat-option>
            }
          </mat-select>
        </mat-form-field>
        
        
        <mat-form-field appearance="fill">
          <mat-label>URL de la Portada</mat-label>
          <input matInput formControlName="cover" placeholder="Ingrese la URL de la portada" required />
        </mat-form-field>
        
       
          

     

          <button
            mat-raised-button
            color="primary"
            type="submit"
            (click)="crear()"
            [disabled]="!albumForm.valid"
          >
            Crear Álbum
          </button>
        
      </form>
    </mat-card-content>
  </div>
</div>
